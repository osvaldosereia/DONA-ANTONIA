<!DOCTYPE html>
<html lang="pt-BR" itemscope itemtype="https://schema.org/GroceryStore">
<head>
    <!-- 1. META DADOS GLOBAIS (SEO) -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <!-- Title: Palavra-chave + Cidade + USP -->
    <title>Cestas B√°sicas em Cuiab√° e VG | Dona Ant√¥nia | Entrega Gr√°tis</title>
    
    <!-- Description: Pitch de Vendas -->
    <meta name="description" content="Menor pre√ßo em Cesta B√°sica em Cuiab√° e V√°rzea Grande? √â na Dona Ant√¥nia! Atacado e Varejo com entrega gr√°tis no CPA, Coxip√≥ e regi√£o. Pe√ßa no WhatsApp.">
    
    <!-- Keywords: Termos focais -->
    <meta name="keywords" content="cesta b√°sica cuiab√°, cesta b√°sica v√°rzea grande, comprar alimentos online cuiab√°, sacol√£o cuiab√°, doa√ß√£o de cesta b√°sica mt, entrega gr√°tis mercado, atacado de alimentos cuiab√°, cesta de natal, pedra 90, cpa, coxip√≥">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://donaantonia.com.br/">
    <meta name="theme-color" content="#2563EB">

    <!-- 2. SEO LOCAL "NUCLEAR" (GeoTags) -->
    <meta name="geo.region" content="BR-MT" />
    <meta name="geo.placename" content="Cuiab√°" />
    <meta name="geo.position" content="-15.6025;-56.0968" />
    <meta name="ICBM" content="-15.6025, -56.0968" />

    <!-- 5. OTIMIZA√á√ÉO SOCIAL (Open Graph) -->
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Cestas B√°sicas em Cuiab√° e VG | Dona Ant√¥nia | Entrega Gr√°tis" />
    <meta property="og:description" content="Cestas completas a partir de R$ 85,00. Entrega gr√°tis em toda Cuiab√° e V√°rzea Grande." />
    <meta property="og:url" content="https://donaantonia.com.br/" />
    <meta property="og:image" content="https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" />
    <meta property="og:site_name" content="Dona Ant√¥nia Alimentos" />

    <!-- PILLAR 3: SECURITY & ANTI-CLONE -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: data: 'unsafe-inline' 'unsafe-eval'; frame-ancestors 'none';">
    <meta http-equiv="X-Frame-Options" content="DENY">
    
    <!-- 3. SCHEMA MARKUP (JSON-LD ATUALIZADO) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "GroceryStore",
      "name": "Super Cestas B√°sicas Dona Ant√¥nia",
      "image": "https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif",
      "description": "Distribuidora de Cestas B√°sicas e Sacol√£o com entrega gr√°tis em Cuiab√° e V√°rzea Grande.",
      "telephone": "+5565998150975",
      "priceRange": "$$",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "R. Trinta, 105 - Jardim Nossa Sra. Aparecida",
        "addressLocality": "Cuiab√°",
        "addressRegion": "MT",
        "postalCode": "78090-660",
        "addressCountry": "BR"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": -15.6025,
        "longitude": -56.0968
      },
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
          "opens": "09:00",
          "closes": "18:00"
        }
      ],
      "areaServed": ["Cuiab√°", "V√°rzea Grande", "Coxip√≥", "CPA", "Cristo Rei"],
      "sameAs": ["https://www.instagram.com/cestas.dona.antonia.cuiaba.vg/"]
    }
    </script>

    <!-- 6. PERFORMANCE T√âCNICA -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <script>
        // Security Check
        (function() {
            try {
                if (window.top !== window.self) { window.top.location = window.self.location; }
            } catch(e) {}
        })();
    </script>

    <style>
        /* === CORE THEME & RESET === */
        :root {
            --primary: #2563EB;
            --primary-dark: #1d4ed8;
            --success: #16a34a;
            --bg-color: #F8FAFC; 
            --text-main: #0F172A;
            --text-sub: #64748B;
            --white: #ffffff;
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --radius-card: 24px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            padding-top: 80px; 
            padding-bottom: 40px;
            margin: 0 auto;
            min-height: 100vh;
        }

        /* === HEADER FIXED === */
        .site-header {
            position: fixed; top: 0; left: 0; right: 0;
            height: 70px; background: rgba(255,255,255,0.95);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid #E2E8F0;
            display: flex; align-items: center; justify-content: center;
            z-index: 1000; box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .header-content {
            width: 100%; max-width: 1000px; /* Largura expandida para desktop */
            padding: 0 20px;
            display: flex; justify-content: space-between; align-items: center;
        }

        .brand-area { display: flex; align-items: center; gap: 10px; }
        .brand-logo { 
            width: 40px; height: 40px; border-radius: 50%; 
            object-fit: cover; box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
        }
        .brand-text h1 { font-size: 16px; font-weight: 800; color: var(--primary); letter-spacing: -0.5px; margin: 0; }
        .brand-text p { font-size: 11px; color: var(--text-sub); font-weight: 500; margin: 0; }

        .btn-contact-top {
            background: var(--success); color: white;
            font-size: 13px; font-weight: 700;
            padding: 8px 16px; border-radius: 50px;
            text-decoration: none; display: flex; align-items: center; gap: 6px;
            transition: transform 0.2s; box-shadow: 0 2px 8px rgba(22, 163, 74, 0.2);
        }
        .btn-contact-top:active { transform: scale(0.95); }

        /* === MAIN LAYOUT CONTAINER === */
        .main-container { 
            padding: 10px 16px; 
            max-width: 1000px; /* Expandido */
            margin: 0 auto;
        }

        /* === PRODUCT CARD - HYBRID LAYOUT === */
        .modern-card {
            background: var(--white);
            border-radius: var(--radius-card);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            border: 1px solid #E2E8F0;
            position: relative;
            /* Layout Mobile First (Stack) */
            display: flex; flex-direction: column;
        }

        /* Desktop Grid Adaptation */
        @media (min-width: 768px) {
            .modern-card {
                display: grid;
                grid-template-columns: 1.2fr 0.8fr; /* Image Area | Info Area */
                grid-template-rows: auto auto;
            }
            .card-header-img {
                grid-row: 1 / 3;
                border-right: 1px solid #E2E8F0;
                height: 100% !important; /* Full height on desktop */
                background: #F8FAFC;
                justify-content: center !important;
                padding-right: 20px !important; /* Remove gap for chips */
            }
            .card-img-main { max-height: 320px !important; }
            .chips-float {
                top: 20px !important; 
                transform: none !important;
                right: auto !important;
                left: 20px !important;
                flex-direction: row !important;
                flex-wrap: wrap;
                width: 100%;
                max-height: none !important;
                position: absolute;
            }
            .slider-section {
                grid-column: 2;
                border-bottom: none !important;
            }
            .card-footer {
                grid-column: 2;
                display: flex; flex-direction: column; justify-content: center;
                background: #fff;
            }
        }

        /* Imagem & Chips */
        .card-header-img {
            position: relative;
            height: 280px; 
            background: #F8FAFC;
            display: flex; justify-content: flex-start; align-items: center;
            padding: 20px; padding-right: 90px;
        }
        
        .card-img-main {
            width: auto; height: auto;
            max-width: 100%; max-height: 240px; 
            object-fit: contain; 
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.12));
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
        }
        
        .selo-modern {
            position: absolute; top: 16px; right: 16px; /* Moved to right for desktop compatibility */
            background: rgba(255,255,255,0.95);
            padding: 6px 12px; border-radius: 20px;
            font-size: 11px; font-weight: 800; color: #B45309;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); border: 1px solid #FEF3C7;
            z-index: 2; display: flex; align-items: center; gap: 4px;
        }

        /* Chips Navigation */
        .chips-float {
            position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
            display: flex; flex-direction: column; gap: 8px;
            max-height: 90%; overflow-y: auto; padding: 4px; z-index: 5;
            min-width: 85px;
        }
        .chip-modern {
            font-size: 11px; font-weight: 700; text-transform: uppercase;
            padding: 10px 12px; background: rgba(255,255,255,0.85);
            backdrop-filter: blur(4px); border-radius: 14px;
            border: 1px solid #E2E8F0; color: var(--text-sub);
            cursor: pointer; text-align: center;
            transition: all 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .chip-modern.active {
            background: var(--primary); color: white; border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(37,99,235,0.3); transform: scale(1.05);
        }

        /* Slider */
        .slider-section {
            padding: 20px 0; background: #fff;
            border-bottom: 1px solid #F1F5F9;
            position: relative;
        }
        .modern-slider {
            display: flex; gap: 12px; overflow-x: auto; padding: 0 20px;
            scroll-behavior: smooth; -webkit-overflow-scrolling: touch;
        }
        .modern-slider::-webkit-scrollbar { display: none; }
        
        .slide-item {
            flex: 0 0 100px;
            background: #F8FAFC; border-radius: 16px;
            padding: 10px 6px; text-align: center;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 1px solid #F1F5F9;
        }
        .slide-item img { 
            width: 70px; height: 70px; 
            object-fit: contain; margin-bottom: 8px; 
            mix-blend-mode: multiply;
        }
        .slide-qty { font-size: 11px; font-weight: 800; color: var(--primary); }
        .slide-name { font-size: 10px; color: var(--text-sub); line-height: 1.3; font-weight: 500; }

        .nav-arrow {
            position: absolute; right: 8px; top: 50%; transform: translateY(-50%);
            width: 36px; height: 36px; 
            background: #F59E0B; color: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 20px;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
            cursor: pointer; z-index: 10;
        }

        /* Footer / Prices */
        .card-footer { padding: 20px; background: white; }
        .price-val { font-weight: 800; color: var(--text-main); font-size: 18px; }
        
        .btn-order-main {
            width: 100%; padding: 16px;
            background: #16a34a; color: white; border: none; border-radius: 16px;
            font-size: 16px; font-weight: 700;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            cursor: pointer; box-shadow: 0 4px 15px rgba(22, 163, 74, 0.3);
            text-transform: uppercase; transition: transform 0.2s;
            margin-top: 16px;
        }
        .btn-order-main:active { transform: scale(0.97); }

        /* === SECTIONS (Payment, Company, SEO) === */
        .grid-layout {
            display: grid; gap: 16px; margin-top: 16px;
            grid-template-columns: 1fr;
        }
        @media (min-width: 768px) {
            .grid-layout { grid-template-columns: 1fr 1fr; }
        }

        .info-card {
            background: white; border-radius: 16px; border: 1px solid #E2E8F0;
            padding: 20px; box-shadow: var(--shadow-md);
        }
        .section-title { font-size: 14px; font-weight: 700; color: var(--text-main); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        
        .payment-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .pay-item {
            display: flex; align-items: center; gap: 8px; font-size: 12px; color: var(--text-sub);
            background: #F8FAFC; padding: 8px 12px; border-radius: 8px;
        }

        .company-info p { font-size: 13px; color: var(--text-sub); line-height: 1.5; margin-bottom: 8px; }
        .company-stat { display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 600; color: var(--text-main); margin-top: 4px; }
        
        .seo-footer {
            margin-top: 30px; padding-top: 20px; border-top: 1px solid #E2E8F0;
            font-size: 12px; color: var(--text-sub); line-height: 1.6;
        }
        .seo-footer h4 { color: var(--text-main); font-weight: 700; margin-top: 12px; margin-bottom: 4px; }

        /* === MODAL SELE√á√ÉO DE ARROZ === */
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
            z-index: 2000; display: none; align-items: flex-end; justify-content: center;
        }
        .modal-overlay.active { display: flex; animation: fadeIn 0.3s forwards; }
        
        .modal-content {
            background: white; width: 100%; max-width: 500px;
            border-top-left-radius: 24px; border-top-right-radius: 24px;
            padding: 24px; box-shadow: 0 -10px 40px rgba(0,0,0,0.2);
            animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @media(min-width: 768px) {
            .modal-overlay { align-items: center; }
            .modal-content { border-radius: 24px; }
        }

        .modal-title { font-size: 18px; font-weight: 800; color: var(--text-main); margin-bottom: 8px; }
        .modal-sub { font-size: 14px; color: var(--text-sub); margin-bottom: 20px; }
        
        .option-btn {
            width: 100%; display: flex; justify-content: space-between; align-items: center;
            padding: 16px; margin-bottom: 12px;
            border: 1px solid #E2E8F0; border-radius: 12px; background: #F8FAFC;
            cursor: pointer; transition: all 0.2s;
        }
        .option-btn:active, .option-btn:hover { border-color: var(--primary); background: #EFF6FF; }
        .opt-name { font-weight: 600; color: var(--text-main); }
        .opt-price { font-weight: 700; color: var(--success); }

        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }

    </style>
</head>
<body>

    <!-- PILLAR 1: HEADER -->
    <header class="site-header">
        <div class="header-content">
            <div class="brand-area">
                <img src="img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" 
                     class="brand-logo" 
                     alt="Dona Ant√¥nia Logo"
                     onerror="this.src='https://placehold.co/100x100/2563EB/ffffff?text=DA'">
                <div class="brand-text">
                    <h1>Dona Ant√¥nia</h1>
                    <p>Super Cestas B√°sicas</p>
                </div>
            </div>
            <a href="https://wa.me/5565998150975?text=Ol√°, vim pelo site e tenho uma d√∫vida." target="_blank" class="btn-contact-top" onclick="trackEvent('ContactClick', {type: 'Header'})">
                <i class="ph-bold ph-whatsapp-logo"></i> Contato
            </a>
        </div>
    </header>

    <main class="main-container">
        
        <!-- H1 Principal para SEO -->
        <h1 style="font-size: 1.5rem; font-weight: 800; margin-bottom: 16px; color: var(--text-main);">
            Cestas B√°sicas em Cuiab√° e VG - Dona Ant√¥nia
        </h1>

        <!-- CARD PRODUTO (H√≠brido Desktop/Mobile) -->
        <div class="modern-card fade-in" id="product-card">
            <!-- Content Injected via JS -->
        </div>

        <!-- LAYOUT GRID: PAGAMENTO & EMPRESA -->
        <div class="grid-layout fade-in">
            
            <!-- FORMAS DE PAGAMENTO -->
            <section class="info-card">
                <h2 class="section-title"><i class="ph-fill ph-credit-card"></i> Formas de Pagamento</h2>
                <div class="payment-grid">
                    <div class="pay-item"><i class="ph-bold ph-money"></i> Pix / Dinheiro</div>
                    <div class="pay-item"><i class="ph-bold ph-credit-card"></i> Cart√£o (At√© 3x)</div>
                    <div class="pay-item"><i class="ph-bold ph-ticket"></i> Vale Alimenta√ß√£o</div>
                    <div class="pay-item"><i class="ph-bold ph-cards"></i> Alelo / Sodexo</div>
                </div>
                <div style="margin-top: 15px; padding: 10px; background: #FEF2F2; color: #DC2626; border: 1px dashed #FECACA; border-radius: 8px; font-size: 11px; text-align: center; font-weight: 700;">
                    ‚ö†Ô∏è AINDA N√ÉO VENDEMOS A PRAZO
                </div>
            </section>

            <!-- NOSSA EMPRESA -->
            <section class="info-card company-info">
                <h2 class="section-title"><i class="ph-fill ph-storefront"></i> Sobre a Empresa</h2>
                <p>Somos uma empresa familiar, atendendo Cuiab√° e V√°rzea Grande h√° mais de 8 anos com qualidade e pre√ßo justo.</p>
                
                <div class="company-stat">
                    <i class="ph-fill ph-check-circle" style="color:var(--success)"></i> +30 Mil Cestas Entregues
                </div>
                <div class="company-stat">
                    <i class="ph-fill ph-truck" style="color:var(--primary)"></i> Entrega R√°pida Pr√≥pria
                </div>
                
                <a href="https://maps.app.goo.gl/XXXX" target="_blank" style="display:inline-block; margin-top:12px; font-size:12px; color:var(--primary); font-weight:600; text-decoration:none;">
                    üìç Ver localiza√ß√£o no Mapa
                </a>
            </section>
        </div>

        <!-- 4. ESTRAT√âGIA DE CONTE√öDO ON-PAGE (SEO TEXT) -->
        <footer class="seo-footer">
            <h2 style="font-size:16px; margin-bottom:10px;">Atendemos toda a regi√£o metropolitana</h2>
            
            <h4>üìç Cuiab√° - Regi√£o Norte (CPA):</h4>
            <p>CPA I, II, III, IV, Morada da Serra, Tr√™s Barras, Jardim Vit√≥ria.</p>

            <h4>üìç Cuiab√° - Regi√£o Sul (Coxip√≥):</h4>
            <p>Tijucal, Pedra 90, Osmar Cabral, S√£o Gon√ßalo, Parque Cuiab√°.</p>

            <h4>üìç Cuiab√° - Centro/Oeste:</h4>
            <p>Jardim Imperial, Belvedere, Santa Rosa, Goiabeiras, Porto.</p>

            <h4>üìç V√°rzea Grande:</h4>
            <p>Cristo Rei, Jardim Gl√≥ria, Mapim, Manga, Ipase.</p>

            <div style="margin-top: 20px; text-align: center; font-size: 11px; opacity: 0.7;">
                &copy; 2024 Dona Ant√¥nia Alimentos - CNPJ XX.XXX.XXX/0001-XX <br>
                R. Trinta, 105 - Jardim Nossa Sra. Aparecida, Cuiab√° - MT
            </div>
        </footer>

    </main>

    <!-- MODAL DE SELE√á√ÉO DE ARROZ -->
    <div id="rice-modal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <div class="modal-title">Escolha a marca do Arroz</div>
            <p class="modal-sub">O valor da cesta muda de acordo com a marca selecionada.</p>
            <div id="modal-options-container">
                <!-- Bot√µes gerados via JS -->
            </div>
            <button onclick="closeModal(null, true)" style="width:100%; margin-top:10px; padding:12px; background:transparent; border:none; color:var(--text-sub); font-weight:600;">Cancelar</button>
        </div>
    </div>

    <script>
        // === PILLAR 2: TRACKING ===
        window.dataLayer = window.dataLayer || [];
        function trackEvent(eventName, params = {}) {
            window.dataLayer.push({ 'event': eventName, ...params });
        }

        const CONFIG = { whatsapp: "5565998150975" };

        const CESTAS = [
            {
                id: 'economica', nome: 'Cesta Econ√¥mica', destaque: 'Mais Vendida', desconto: 5,
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-economica.avif',
                items: ['1 Arroz Koblenz 5kg', '1 A√ß√∫car Doce Dia 2kg', '1 √ìleo de Soja Liza 900ml', '1 Feij√£o Da Casa 1kg', '1 Caf√© Caboclo 250g', '1 Espaguete QDelicia 500g', '1 Trigo Vitoriosa 1kg', '1 Farinha de Mandioca Dona De 1Kg', '1 Sal 1kg', '1 Molho Fugini 340g', '1 Milho Verde Predileta', '1 Bolacha MyBit Recheada', '1 Miojo Apti', '1 Suco Frisco'],
                opcoes: [{ arroz: 'Valor √önico', preco: '85,00', valor_num: 85.00 }]
            },
            {
                id: 'mini', nome: 'Cesta Mini', destaque: null, desconto: 10,
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-mini.avif',
                items: ['1 Arroz Koblenz 5kg', '1 A√ß√∫car Doce Dia 2kg', '2 √ìleo de Soja Liza 900ml', '2 Feij√£o Da Casa 1kg', '1 Caf√© Caboclo 250g', '1 Espaguete QDelicia 500g', '1 Sal 1kg', '1 Molho Fugini 340g', '1 Milho Verde Predileta', '1 Bolacha MyBit Recheada', '1 Miojo Apti', '2 Suco Frisco', '1 Sab√£o Barra Ype 900g', '1 Creme Dental Sorriso 70g', '1 Papel Higi√™nico', '1 Amaciante Ype 2L', '1 Desinfetante Remmus 2L', '1 Sab√£o em P√≥ OMO 800g', '1 Detergente Ype 500ml', '1 Qboa 1 Litro', '2 Sabonete Palmolive 85g', '1 L√£ de A√ßo Assolan', '1 Esponja de Lavar Lou√ßa'],
                opcoes: [{ arroz: 'Tio Alvino', preco: '165,00', valor_num: 165.00 }, { arroz: 'Koblenz', preco: '170,00', valor_num: 170.00 }]
            },
            {
                id: 'pequena', nome: 'Cesta Pequena', destaque: 'Custo x Benef√≠cio', desconto: 15,
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-pequena.avif',
                items: ['2 Arroz Koblenz 5kg', '1 A√ß√∫car Doce Dia 2kg', '2 √ìleo de Soja Liza 900ml', '2 Feij√£o Da Casa 1kg', '1 Caf√© Caboclo 250g', '12 Ovos', '1 Bolo Apti Chocolate 400g', '1 Espaguete QDelicia 500g', '1 Trigo Vitoriosa 1kg', '1 Sal 1kg', '1 Molho Fugini 340g', '1 Milho Verde Predileta', '1 Tempero Tio Jonas', '2 Bolacha MyBit Recheada', '2 Miojo Apti', '2 Suco Frisco', '1 Sab√£o Barra Ype 900g', '1 Creme Dental Sorriso 70g', '1 Papel Higi√™nico', '1 Amaciante Ype 2L', '1 Desinfetante Remmus 2L', '1 Sab√£o em P√≥ OMO 800g', '2 Detergente Ype 500ml', '1 Qboa 1 Litro', '2 Sabonete Palmolive 85g', '1 L√£ de A√ßo Assolan', '1 Esponja de Lavar Lou√ßa'],
                opcoes: [{ arroz: 'Tio Alvino', preco: '215,00', valor_num: 215.00 }, { arroz: 'Koblenz', preco: '220,00', valor_num: 220.00 }]
            },
            {
                id: 'media', nome: 'Cesta M√©dia', destaque: null, desconto: 20,
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-media.avif',
                items: ['3 Arroz Koblenz 5kg', '2 A√ß√∫car Doce Dia 2kg', '3 √ìleo de Soja Liza 900ml', '3 Feij√£o Da Casa 1kg', '1 Caf√© Caboclo 500g', '12 Ovos', '1 Bolo Apti Chocolate 400g', '2 Espaguete QDelicia 500g', '1 Trigo Vitoriosa 1kg', '1 Sal 1kg', '2 Molho Fugini 340g', '1 Milho Verde Predileta', '1 Tempero Tio Jonas', '2 Bolacha MyBit Recheada', '2 Miojo Apti', '3 Suco Frisco', '1 Sab√£o Barra Ype 900g', '2 Creme Dental Sorriso 70g', '2 Papel Higi√™nico', '1 Amaciante Ype 2L', '1 Desinfetante Remmus 2L', '1 Sab√£o em P√≥ OMO 800g', '2 Detergente Ype 500ml', '1 Qboa 1 Litro', '3 Sabonete Palmolive 85g', '1 L√£ de A√ßo Assolan', '1 Esponja de Lavar Lou√ßa'],
                opcoes: [{ arroz: 'Tio Alvino', preco: '320,00', valor_num: 320.00 }, { arroz: 'Koblenz', preco: '325,00', valor_num: 325.00 }]
            },
            {
                id: 'grande', nome: 'Cesta Grande', destaque: 'Super Completa', desconto: 25,
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-grande.avif',
                items: ['4 Arroz Koblenz 5kg', '3 A√ß√∫car Doce Dia 2kg', '4 √ìleo de Soja Liza 900ml', '4 Feij√£o Da Casa 1kg', '1 Caf√© Caboclo 500g', '3 Espaguete QDelicia 500g', '12 Ovos', '1 Bolo Apti Chocolate 400g', '1 Trigo Vitoriosa 1kg', '1 Sal 1kg', '2 Molho Fugini 340g', '1 Milho Verde Predileta', '1 Tempero Tio Jonas', '2 Bolacha MyBit Recheada', '2 Miojo Apti', '4 Suco Frisco', '1 Sab√£o Barra Ype 900g', '2 Creme Dental Sorriso 70g', '2 Papel Higi√™nico', '1 Amaciante Ype 2L', '1 Desinfetante Remmus 2L', '1 Sab√£o em P√≥ OMO 800g', '2 Detergente Ype 500ml', '1 Qboa 1 Litro', '4 Sabonete Palmolive 85g', '1 L√£ de A√ßo Assolan', '1 Esponja de Lavar Lou√ßa'],
                opcoes: [{ arroz: 'Tio Alvino', preco: '380,00', valor_num: 380.00 }, { arroz: 'Koblenz', preco: '390,00', valor_num: 390.00 }]
            }
        ];

        // === IMAGE LOGIC ===
        function getProductImage(text) {
            const t = text.toLowerCase();
            const folderAlimento = 'img/alimento/';
            const folderLimpeza = 'img/limpeza/';
            const placeholder = `https://placehold.co/100x100/f1f5f9/334155?text=${text.split(' ')[0]}`;

            // Mapeamento simplificado
            if(t.includes('arroz')) return folderAlimento + 'Arroz Koblenz 5kg.webp';
            if(t.includes('feij√£o') || t.includes('feijao')) return folderAlimento + 'feij√£o da casa.webp';
            if(t.includes('a√ß√∫car') || t.includes('acucar')) return folderAlimento + 'a√ßucar doce dia 2 kg.webp';
            if(t.includes('oleo') || t.includes('√≥leo')) return folderAlimento + 'oleo de soja liza.webp';
            if(t.includes('caf√©') || t.includes('cafe')) return folderAlimento + 'cafe caboclo 250g.webp';
            if(t.includes('espaguete')) return folderAlimento + 'espaguete qdelicia.webp';
            if(t.includes('trigo')) return folderAlimento + 'trigo vitoriosa.webp';
            if(t.includes('sab√£o em p√≥') || t.includes('omo')) return folderLimpeza + 'sab√£o em p√≥ omo 800g.webp';
            if(t.includes('detergente')) return folderLimpeza + 'Detergente Ype 500ml.webp';
            if(t.includes('amaciante')) return folderLimpeza + 'amaciante ype 2L.webp';
            
            return placeholder;
        }

        let currentBasketIdx = 0;

        function renderCard() {
            const container = document.getElementById('product-card');
            const cesta = CESTAS[currentBasketIdx];

            // Chips Navigation
            const chips = CESTAS.map((c, i) => `
                <div class="chip-modern ${i === currentBasketIdx ? 'active' : ''}" onclick="switchBasket(${i})">
                    ${c.nome.replace('Cesta ', '')}
                </div>
            `).join('');

            // Slider Items
            const slides = cesta.items.map(item => {
                const match = item.match(/^(\d+)\s+(.*)$/);
                let qty = "1", nome = item;
                if(match) { qty = match[1]; nome = match[2]; }
                const imgPath = getProductImage(nome);
                return `
                <div class="slide-item">
                    <img src="${imgPath}" loading="lazy" alt="${nome}" class="protected" onerror="this.src='https://placehold.co/60x60/f1f5f9/94a3b8?text=IMG'">
                    <span class="slide-qty">${qty} un</span>
                    <span class="slide-name">${nome}</span>
                </div>`;
            }).join('');

            // Pre√ßo (Display)
            const precos = cesta.opcoes.map(o => `
                <div class="price-row" style="display:flex; justify-content:space-between; width:100%; margin-bottom:6px;">
                    <span style="font-size:14px; color:var(--text-sub)">${o.arroz.includes('Valor') ? 'Valor √önico' : 'Com ' + o.arroz}</span>
                    <span class="price-val">R$ ${o.preco}</span>
                </div>
            `).join('');

            const absoluteUrl = cesta.img;
            const localFallback = 'img/' + absoluteUrl.split('/').pop();

            container.innerHTML = `
                <div class="card-header-img">
                    ${cesta.destaque ? `<div class="selo-modern"><i class="ph-fill ph-star"></i> ${cesta.destaque}</div>` : ''}
                    <img src="${absoluteUrl}" class="card-img-main protected" alt="${cesta.nome}" onerror="this.onerror=null;this.src='${localFallback}';">
                    <!-- Chips: Posicionamento CSS ajustado no Desktop -->
                    <div class="chips-float">${chips}</div>
                </div>
                
                <div class="slider-section">
                    <div class="modern-slider">
                        ${slides}
                        <div style="min-width:10px"></div>
                    </div>
                    <div class="nav-arrow" onclick="scrollSlider(this)"><i class="ph-bold ph-caret-right"></i></div>
                </div>

                <div class="card-footer">
                    <div class="price-section">${precos}</div>
                    
                    <button class="btn-order-main" onclick="checkOrder()">
                        <i class="ph-bold ph-whatsapp-logo"></i>
                        Encomendar ${cesta.nome}
                    </button>
                </div>
            `;
        }

        window.switchBasket = function(idx) {
            if(idx === currentBasketIdx) return;
            const container = document.getElementById('product-card');
            container.style.opacity = '0.5';
            setTimeout(() => {
                currentBasketIdx = idx;
                renderCard();
                container.style.opacity = '1';
            }, 150);
        };

        window.scrollSlider = function(btn) {
            const slider = btn.parentElement.querySelector('.modern-slider');
            if(slider) slider.scrollBy({ left: 220, behavior: 'smooth' });
        };

        // === LOGIC: RICE SELECTION ===
        window.checkOrder = function() {
            const cesta = CESTAS[currentBasketIdx];
            
            // Se tiver apenas uma op√ß√£o (Ex: Cesta Econ√¥mica), vai direto
            if(cesta.opcoes.length === 1) {
                finalizeOrder(cesta.opcoes[0]);
            } else {
                // Se tiver mais de uma, abre o modal
                openModal(cesta);
            }
        };

        function openModal(cesta) {
            const modal = document.getElementById('rice-modal');
            const container = document.getElementById('modal-options-container');
            
            // Gerar bot√µes
            container.innerHTML = cesta.opcoes.map((opt, i) => `
                <div class="option-btn" onclick="finalizeOrderFromModal(${i})">
                    <span class="opt-name">Com ${opt.arroz}</span>
                    <span class="opt-price">R$ ${opt.preco}</span>
                </div>
            `).join('');

            modal.classList.add('active');
        }

        window.closeModal = function(e, force=false) {
            if(force || e.target.id === 'rice-modal') {
                document.getElementById('rice-modal').classList.remove('active');
            }
        };

        window.finalizeOrderFromModal = function(optIndex) {
            const cesta = CESTAS[currentBasketIdx];
            finalizeOrder(cesta.opcoes[optIndex]);
            closeModal(null, true);
        };

        function finalizeOrder(opcao) {
            const cesta = CESTAS[currentBasketIdx];
            // Texto detalhado para facilitar o fechamento da venda
            const arrozTexto = opcao.arroz.includes('Valor') ? '' : ` (Op√ß√£o: ${opcao.arroz})`;
            const msg = `Ol√°! Vim pelo site. Tenho interesse na *${cesta.nome}*${arrozTexto} por *R$ ${opcao.preco}*.`;
            
            trackEvent('Lead', { 
                content_name: cesta.nome, 
                value: opcao.valor_num, 
                currency: 'BRL',
                variant: opcao.arroz
            });

            const link = `https://wa.me/${CONFIG.whatsapp}?text=${encodeURIComponent(msg)}`;
            window.open(link, '_blank');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', renderCard);

    </script>
</body>
</html>
